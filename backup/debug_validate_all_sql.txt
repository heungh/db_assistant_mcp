===============================================
validate_all_sql ì˜¤ë¥˜ ë””ë²„ê¹… ë³´ê³ ì„œ
ìƒì„± ì‹œê°„: 2025-08-16 16:25:18 UTC
===============================================

ğŸ” ë¬¸ì œ ë¶„ì„:
--------------
ì˜¤ë¥˜ ë©”ì‹œì§€: 'DBAssistantMCPServer' object has no attribute 'detect_ddl_type'

ğŸ¯ ê·¼ë³¸ ì›ì¸:
--------------
validate_all_sql_files() ë©”ì„œë“œì—ì„œ self.detect_ddl_type() í˜¸ì¶œí•˜ì§€ë§Œ,
DBAssistantMCPServer í´ë˜ìŠ¤ì— detect_ddl_type ë©”ì„œë“œê°€ ì •ì˜ë˜ì–´ ìˆì§€ ì•ŠìŒ.

ğŸ“ ì˜¤ë¥˜ ë°œìƒ ìœ„ì¹˜:
------------------
íŒŒì¼: db_assistant_mcp_server.py
ë¼ì¸: 2369
ì½”ë“œ: ddl_type = self.detect_ddl_type(ddl_content)

ğŸ”§ í•´ê²° ë°©ë²•:
--------------
1. detect_ddl_type ë©”ì„œë“œë¥¼ DBAssistantMCPServer í´ë˜ìŠ¤ì— ì¶”ê°€
2. ë˜ëŠ” ê¸°ì¡´ validate_sql_file_internal ë©”ì„œë“œì˜ ë¡œì§ ì¬ì‚¬ìš©

ğŸ’¡ ê¶Œì¥ ìˆ˜ì •ì‚¬í•­:
------------------
ë‹¤ìŒ ë©”ì„œë“œë¥¼ DBAssistantMCPServer í´ë˜ìŠ¤ì— ì¶”ê°€:

def detect_ddl_type(self, ddl_content: str) -> str:
    """DDL íƒ€ì… ê°ì§€"""
    ddl_upper = ddl_content.upper().strip()
    
    if ddl_upper.startswith('CREATE TABLE'):
        return 'CREATE_TABLE'
    elif ddl_upper.startswith('ALTER TABLE'):
        return 'ALTER_TABLE'
    elif ddl_upper.startswith('DROP TABLE'):
        return 'DROP_TABLE'
    elif ddl_upper.startswith('CREATE INDEX'):
        return 'CREATE_INDEX'
    elif ddl_upper.startswith('DROP INDEX'):
        return 'DROP_INDEX'
    elif ddl_upper.startswith('INSERT'):
        return 'INSERT'
    elif ddl_upper.startswith('UPDATE'):
        return 'UPDATE'
    elif ddl_upper.startswith('DELETE'):
        return 'DELETE'
    elif ddl_upper.startswith('SELECT'):
        return 'SELECT'
    else:
        return 'UNKNOWN'

ğŸ”„ ëŒ€ì•ˆ í•´ê²°ì±…:
----------------
validate_all_sql_files ë©”ì„œë“œì—ì„œ detect_ddl_type í˜¸ì¶œ ë¶€ë¶„ì„ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •:

# ê¸°ì¡´ ì½”ë“œ
ddl_type = self.detect_ddl_type(ddl_content)

# ìˆ˜ì •ëœ ì½”ë“œ
ddl_type = "DDL"  # ì„ì‹œ ê°’ ë˜ëŠ” ê°„ë‹¨í•œ ì¸ë¼ì¸ ê°ì§€ ë¡œì§

ğŸ“Š ì˜í–¥ë„ ë¶„ì„:
----------------
- ì˜í–¥ë°›ëŠ” ê¸°ëŠ¥: validate_all_sql ë„êµ¬
- ê°œë³„ íŒŒì¼ ê²€ì¦: ì •ìƒ ì‘ë™ (validate_sql_file)
- ë‹¤ë¥¸ ê¸°ëŠ¥ë“¤: ì˜í–¥ ì—†ìŒ

ğŸš€ ì¦‰ì‹œ ì ìš© ê°€ëŠ¥í•œ ì„ì‹œ ìˆ˜ì •:
-------------------------------
ë¼ì¸ 2369ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •:
ddl_type = "DDL"  # detect_ddl_type ë©”ì„œë“œ ëˆ„ë½ìœ¼ë¡œ ì„ì‹œ ê°’ ì‚¬ìš©

===============================================
ë””ë²„ê¹… ì™„ë£Œ
===============================================
